<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.51">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>Domain Controller Configuration | idemeum docs</title><meta name="description" content="One platform to manage access to devices, applications, and infrastructure, without passwords">
    <link rel="modulepreload" href="/assets/app.39b42066.js"><link rel="modulepreload" href="/assets/windows-active-domain-configuration.html.76526388.js"><link rel="modulepreload" href="/assets/windows-active-domain-configuration.html.56e2f7dd.js"><link rel="prefetch" href="/assets/index.html.5a6f8507.js"><link rel="prefetch" href="/assets/admin-controlled-user-recovery.html.21301ffc.js"><link rel="prefetch" href="/assets/application-catalog.html.901521b0.js"><link rel="prefetch" href="/assets/application-entitlements.html.3551a3f0.js"><link rel="prefetch" href="/assets/authproxy.html.3c464bb3.js"><link rel="prefetch" href="/assets/autofill-passwords.html.9624666b.js"><link rel="prefetch" href="/assets/cloud-radius-ip-address.html.185711eb.js"><link rel="prefetch" href="/assets/cloud-radius-overview.html.56dc182a.js"><link rel="prefetch" href="/assets/create-password-application.html.1a2c7099.js"><link rel="prefetch" href="/assets/downloads.html.0b45284d.js"><link rel="prefetch" href="/assets/edit-password-application.html.a6ab87b1.js"><link rel="prefetch" href="/assets/employee-onboarding.html.caa879e5.js"><link rel="prefetch" href="/assets/group-management.html.ab2a4ca9.js"><link rel="prefetch" href="/assets/how-to-obtain-saml-metadata-for-idemeum.html.54f761c5.js"><link rel="prefetch" href="/assets/how-to-recover-device-user-guide.html.09c8d9fb.js"><link rel="prefetch" href="/assets/how-to-set-up-radius-integration.html.bc73cf6a.js"><link rel="prefetch" href="/assets/integrate-saml-app.html.4287073b.js"><link rel="prefetch" href="/assets/integration-with-hr-system.html.65b155d8.js"><link rel="prefetch" href="/assets/introduction.html.480839bb.js"><link rel="prefetch" href="/assets/lifecycle-management.html.f1b2cd19.js"><link rel="prefetch" href="/assets/local-biometrics.html.ac583133.js"><link rel="prefetch" href="/assets/login-experience.html.0f19308e.js"><link rel="prefetch" href="/assets/mfa-organization-rollout.html.95dd7e6f.js"><link rel="prefetch" href="/assets/mfa-overview.html.dc73f650.js"><link rel="prefetch" href="/assets/mobile-app-security.html.0eab57ab.js"><link rel="prefetch" href="/assets/mobile-ui-overview.html.4c89ed7a.js"><link rel="prefetch" href="/assets/password-autocapture.html.97efec66.js"><link rel="prefetch" href="/assets/password-vault-overview.html.99cbf439.js"><link rel="prefetch" href="/assets/passwordless-mfa-desktop-mac.html.890158a3.js"><link rel="prefetch" href="/assets/passwordless-mfa-desktop-windows.html.0149bf35.js"><link rel="prefetch" href="/assets/passwordless-mfa-infra.html.58766930.js"><link rel="prefetch" href="/assets/passwordless-mfa-sso.html.a333d5e7.js"><link rel="prefetch" href="/assets/passwordless-mfa-vault.html.5e5b6a29.js"><link rel="prefetch" href="/assets/passwordless-mfa-vpn-wifi.html.d2e8c386.js"><link rel="prefetch" href="/assets/passwordless-single-sign-on-overview.html.be3001cc.js"><link rel="prefetch" href="/assets/privacy-policy.html.1b5df90d.js"><link rel="prefetch" href="/assets/quickstart.html.1604030c.js"><link rel="prefetch" href="/assets/recovery-faq.html.82f066ab.js"><link rel="prefetch" href="/assets/recovery-overview.html.7ebc2862.js"><link rel="prefetch" href="/assets/security-policies.html.5e15a940.js"><link rel="prefetch" href="/assets/security-whitepaper.html.13652771.js"><link rel="prefetch" href="/assets/self-service-onboarding.html.e0c9f42b.js"><link rel="prefetch" href="/assets/self-service-user-recovery.html.ddd49a23.js"><link rel="prefetch" href="/assets/share-password-application.html.4427d20f.js"><link rel="prefetch" href="/assets/terms-of-service.html.ff6f1b57.js"><link rel="prefetch" href="/assets/totp-mfa.html.a2cb5f2f.js"><link rel="prefetch" href="/assets/user-management.html.1997e151.js"><link rel="prefetch" href="/assets/enable-remote-access.html.ee5a5cc8.js"><link rel="prefetch" href="/assets/install-agent.html.61491395.js"><link rel="prefetch" href="/assets/remote-ssh-server.html.c6335379.js"><link rel="prefetch" href="/assets/remote-web-app.html.9c9c3dbc.js"><link rel="prefetch" href="/assets/remote-windows-desktop-overview.html.6de72845.js"><link rel="prefetch" href="/assets/remote-windows-desktop.html.124a8e5c.js"><link rel="prefetch" href="/assets/secure-remote-access-overview.html.6c27c0c2.js"><link rel="prefetch" href="/assets/rfid-architecture.html.22a25047.js"><link rel="prefetch" href="/assets/rfid-configuration-guide.html.7198f5ba.js"><link rel="prefetch" href="/assets/rfid-overview.html.7b4ca203.js"><link rel="prefetch" href="/assets/rfid-readers.html.8df8aa25.js"><link rel="prefetch" href="/assets/rfid-shared-account.html.ceac09e5.js"><link rel="prefetch" href="/assets/rfid-supported-flows.html.04e4597e.js"><link rel="prefetch" href="/assets/rfid-troubleshooting.html.07430300.js"><link rel="prefetch" href="/assets/404.html.49b1d8ba.js"><link rel="prefetch" href="/assets/index.html.eadd4aaa.js"><link rel="prefetch" href="/assets/admin-controlled-user-recovery.html.7f683a12.js"><link rel="prefetch" href="/assets/application-catalog.html.4e2d152c.js"><link rel="prefetch" href="/assets/application-entitlements.html.037ec1eb.js"><link rel="prefetch" href="/assets/authproxy.html.e71ad358.js"><link rel="prefetch" href="/assets/autofill-passwords.html.f10033d8.js"><link rel="prefetch" href="/assets/cloud-radius-ip-address.html.cbf05124.js"><link rel="prefetch" href="/assets/cloud-radius-overview.html.f9b396c6.js"><link rel="prefetch" href="/assets/create-password-application.html.52107998.js"><link rel="prefetch" href="/assets/downloads.html.00349fd1.js"><link rel="prefetch" href="/assets/edit-password-application.html.14625f71.js"><link rel="prefetch" href="/assets/employee-onboarding.html.1626df6c.js"><link rel="prefetch" href="/assets/group-management.html.5ac91950.js"><link rel="prefetch" href="/assets/how-to-obtain-saml-metadata-for-idemeum.html.e91f149a.js"><link rel="prefetch" href="/assets/how-to-recover-device-user-guide.html.6760ade3.js"><link rel="prefetch" href="/assets/how-to-set-up-radius-integration.html.879d1a45.js"><link rel="prefetch" href="/assets/integrate-saml-app.html.eafb3c4f.js"><link rel="prefetch" href="/assets/integration-with-hr-system.html.4eeb9867.js"><link rel="prefetch" href="/assets/introduction.html.5f74759f.js"><link rel="prefetch" href="/assets/lifecycle-management.html.dc45218d.js"><link rel="prefetch" href="/assets/local-biometrics.html.a9302146.js"><link rel="prefetch" href="/assets/login-experience.html.096e051c.js"><link rel="prefetch" href="/assets/mfa-organization-rollout.html.2b6adb39.js"><link rel="prefetch" href="/assets/mfa-overview.html.6f680458.js"><link rel="prefetch" href="/assets/mobile-app-security.html.1a6f21c9.js"><link rel="prefetch" href="/assets/mobile-ui-overview.html.bfeda4d9.js"><link rel="prefetch" href="/assets/password-autocapture.html.5b96ef1f.js"><link rel="prefetch" href="/assets/password-vault-overview.html.bc442fb5.js"><link rel="prefetch" href="/assets/passwordless-mfa-desktop-mac.html.0b175ef2.js"><link rel="prefetch" href="/assets/passwordless-mfa-desktop-windows.html.dd78c448.js"><link rel="prefetch" href="/assets/passwordless-mfa-infra.html.aaa86a5c.js"><link rel="prefetch" href="/assets/passwordless-mfa-sso.html.40b8be46.js"><link rel="prefetch" href="/assets/passwordless-mfa-vault.html.bdca801e.js"><link rel="prefetch" href="/assets/passwordless-mfa-vpn-wifi.html.c8cb693e.js"><link rel="prefetch" href="/assets/passwordless-single-sign-on-overview.html.b167eff3.js"><link rel="prefetch" href="/assets/privacy-policy.html.b123dd9b.js"><link rel="prefetch" href="/assets/quickstart.html.2052a016.js"><link rel="prefetch" href="/assets/recovery-faq.html.ae501497.js"><link rel="prefetch" href="/assets/recovery-overview.html.d82738a6.js"><link rel="prefetch" href="/assets/security-policies.html.1af9620f.js"><link rel="prefetch" href="/assets/security-whitepaper.html.1200b27c.js"><link rel="prefetch" href="/assets/self-service-onboarding.html.abd6dfe1.js"><link rel="prefetch" href="/assets/self-service-user-recovery.html.36281112.js"><link rel="prefetch" href="/assets/share-password-application.html.1da7cd50.js"><link rel="prefetch" href="/assets/terms-of-service.html.e523f2e7.js"><link rel="prefetch" href="/assets/totp-mfa.html.98612986.js"><link rel="prefetch" href="/assets/user-management.html.99aef765.js"><link rel="prefetch" href="/assets/enable-remote-access.html.14748a99.js"><link rel="prefetch" href="/assets/install-agent.html.b89e1be8.js"><link rel="prefetch" href="/assets/remote-ssh-server.html.e9a0257b.js"><link rel="prefetch" href="/assets/remote-web-app.html.03370ab9.js"><link rel="prefetch" href="/assets/remote-windows-desktop-overview.html.d86f1b18.js"><link rel="prefetch" href="/assets/remote-windows-desktop.html.92b85640.js"><link rel="prefetch" href="/assets/secure-remote-access-overview.html.37f026d3.js"><link rel="prefetch" href="/assets/rfid-architecture.html.97b07bcd.js"><link rel="prefetch" href="/assets/rfid-configuration-guide.html.122f0800.js"><link rel="prefetch" href="/assets/rfid-overview.html.f2306b70.js"><link rel="prefetch" href="/assets/rfid-readers.html.d0707d03.js"><link rel="prefetch" href="/assets/rfid-shared-account.html.8bd26a78.js"><link rel="prefetch" href="/assets/rfid-supported-flows.html.adc81765.js"><link rel="prefetch" href="/assets/rfid-troubleshooting.html.c942026a.js"><link rel="prefetch" href="/assets/404.html.3b35cd4e.js">
    <link rel="stylesheet" href="/assets/style.c5eacdc9.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/logo.png" alt="idemeum docs"><span class="site-name can-hide">idemeum docs</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Resources"><span class="title">Resources</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Resources"><span class="title">Resources</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://idemeum.com/contact" rel="noopener noreferrer" target="_blank" aria-label="Contact"><!--[--><!--]--> Contact <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://blog.idemeum.com" rel="noopener noreferrer" target="_blank" aria-label="Blog"><!--[--><!--]--> Blog <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://idemeum.com/changelog" rel="noopener noreferrer" target="_blank" aria-label="Changelog"><!--[--><!--]--> Changelog <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://integrations.idemeum.com" rel="noopener noreferrer" target="_blank" aria-label="Integrations"><!--[--><!--]--> Integrations <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://join.slack.com/t/idemeum-community/shared_invite/zt-npfwnoud-hOjc6rbmZmdTAY3xE3i5FA" rel="noopener noreferrer" target="_blank" aria-label="Slack community"><!--[--><!--]--> Slack community <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://idemeum.com/try" rel="noopener noreferrer" target="_blank" aria-label="Try idemeum"><!--[--><!--]--> Try idemeum <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Resources"><span class="title">Resources</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Resources"><span class="title">Resources</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://idemeum.com/contact" rel="noopener noreferrer" target="_blank" aria-label="Contact"><!--[--><!--]--> Contact <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://blog.idemeum.com" rel="noopener noreferrer" target="_blank" aria-label="Blog"><!--[--><!--]--> Blog <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://idemeum.com/changelog" rel="noopener noreferrer" target="_blank" aria-label="Changelog"><!--[--><!--]--> Changelog <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://integrations.idemeum.com" rel="noopener noreferrer" target="_blank" aria-label="Integrations"><!--[--><!--]--> Integrations <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://join.slack.com/t/idemeum-community/shared_invite/zt-npfwnoud-hOjc6rbmZmdTAY3xE3i5FA" rel="noopener noreferrer" target="_blank" aria-label="Slack community"><!--[--><!--]--> Slack community <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://idemeum.com/try" rel="noopener noreferrer" target="_blank" aria-label="Try idemeum"><!--[--><!--]--> Try idemeum <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Getting Started <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/introduction.html" class="sidebar-item" aria-label="Introduction"><!--[--><!--]--> Introduction <!--[--><!--]--></a><!----></li><li><a href="/quickstart.html" class="sidebar-item" aria-label="Quickstart"><!--[--><!--]--> Quickstart <!--[--><!--]--></a><!----></li><li><a href="/downloads.html" class="sidebar-item" aria-label="Downloads"><!--[--><!--]--> Downloads <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">RFID Access <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/rfid/rfid-overview.html" class="sidebar-item" aria-label="Overview"><!--[--><!--]--> Overview <!--[--><!--]--></a><!----></li><li><a href="/rfid/rfid-architecture.html" class="sidebar-item" aria-label="Architecture"><!--[--><!--]--> Architecture <!--[--><!--]--></a><!----></li><li><a href="/rfid/rfid-supported-flows.html" class="sidebar-item" aria-label="Login flows and features"><!--[--><!--]--> Login flows and features <!--[--><!--]--></a><!----></li><li><a href="/rfid/rfid-readers.html" class="sidebar-item" aria-label="RFID readers"><!--[--><!--]--> RFID readers <!--[--><!--]--></a><!----></li><li><a href="/rfid/rfid-configuration-guide.html" class="sidebar-item" aria-label="Configuration guide"><!--[--><!--]--> Configuration guide <!--[--><!--]--></a><!----></li><li><a href="/rfid/rfid-shared-account.html" class="sidebar-item" aria-label="Shared account login"><!--[--><!--]--> Shared account login <!--[--><!--]--></a><!----></li><li><a href="/rfid/rfid-troubleshooting.html" class="sidebar-item" aria-label="Troubleshooting"><!--[--><!--]--> Troubleshooting <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">Secure Remote Access <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/remote-access/secure-remote-access-overview.html" class="sidebar-item" aria-label="Overview"><!--[--><!--]--> Overview <!--[--><!--]--></a><!----></li><li><a href="/remote-access/enable-remote-access.html" class="sidebar-item" aria-label="Enable remote access"><!--[--><!--]--> Enable remote access <!--[--><!--]--></a><!----></li><li><a href="/remote-access/remote-web-app.html" class="sidebar-item" aria-label="Remote web applications"><!--[--><!--]--> Remote web applications <!--[--><!--]--></a><!----></li><li><a href="/remote-access/remote-ssh-server.html" class="sidebar-item" aria-label="Remote SSH servers"><!--[--><!--]--> Remote SSH servers <!--[--><!--]--></a><!----></li><li><p tabindex="0" class="sidebar-item active collapsible">Remote Windows Desktops <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/remote-access/remote-windows-desktop-overview.html" class="sidebar-item" aria-label="Overview"><!--[--><!--]--> Overview <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/remote-access/windows-active-domain-configuration.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="Domain controller configuration"><!--[--><!--]--> Domain controller configuration <!--[--><!--]--></a><!----></li><li><a href="/remote-access/remote-windows-desktop.html" class="sidebar-item" aria-label="Windows desktops setup"><!--[--><!--]--> Windows desktops setup <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/remote-access/install-agent.html" class="sidebar-item" aria-label="Install idemeum agent"><!--[--><!--]--> Install idemeum agent <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Passwordless Single Sign-On <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/passwordless-single-sign-on-overview.html" class="sidebar-item" aria-label="Overview"><!--[--><!--]--> Overview <!--[--><!--]--></a><!----></li><li><a href="/integration-with-hr-system.html" class="sidebar-item" aria-label="User source integration"><!--[--><!--]--> User source integration <!--[--><!--]--></a><!----></li><li><a href="/user-management.html" class="sidebar-item" aria-label="User management"><!--[--><!--]--> User management <!--[--><!--]--></a><!----></li><li><a href="/application-catalog.html" class="sidebar-item" aria-label="Application catalog"><!--[--><!--]--> Application catalog <!--[--><!--]--></a><!----></li><li><a href="/integrate-saml-app.html" class="sidebar-item" aria-label="Integrate SAML applications"><!--[--><!--]--> Integrate SAML applications <!--[--><!--]--></a><!----></li><li><a href="/how-to-obtain-saml-metadata-for-idemeum.html" class="sidebar-item" aria-label="How to obtain SAML metadata"><!--[--><!--]--> How to obtain SAML metadata <!--[--><!--]--></a><!----></li><li><a href="/lifecycle-management.html" class="sidebar-item" aria-label="Automated provisioning"><!--[--><!--]--> Automated provisioning <!--[--><!--]--></a><!----></li><li><a href="/application-entitlements.html" class="sidebar-item" aria-label="Application entitlements"><!--[--><!--]--> Application entitlements <!--[--><!--]--></a><!----></li><li><a href="/group-management.html" class="sidebar-item" aria-label="Group management"><!--[--><!--]--> Group management <!--[--><!--]--></a><!----></li><li><a href="/security-policies.html" class="sidebar-item" aria-label="Security Policies"><!--[--><!--]--> Security Policies <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Password Vault <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/password-vault-overview.html" class="sidebar-item" aria-label="Overview"><!--[--><!--]--> Overview <!--[--><!--]--></a><!----></li><li><a href="/create-password-application.html" class="sidebar-item" aria-label="Create password application"><!--[--><!--]--> Create password application <!--[--><!--]--></a><!----></li><li><a href="/edit-password-application.html" class="sidebar-item" aria-label="View / edit / delete passwords"><!--[--><!--]--> View / edit / delete passwords <!--[--><!--]--></a><!----></li><li><a href="/share-password-application.html" class="sidebar-item" aria-label="Share passwords"><!--[--><!--]--> Share passwords <!--[--><!--]--></a><!----></li><li><a href="/autofill-passwords.html" class="sidebar-item" aria-label="Password autofill"><!--[--><!--]--> Password autofill <!--[--><!--]--></a><!----></li><li><a href="/password-autocapture.html" class="sidebar-item" aria-label="Password auto capture"><!--[--><!--]--> Password auto capture <!--[--><!--]--></a><!----></li><li><a href="/totp-mfa.html" class="sidebar-item" aria-label="Add TOTP for password application"><!--[--><!--]--> Add TOTP for password application <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Passwordless MFA <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/mfa-overview.html" class="sidebar-item" aria-label="Overview"><!--[--><!--]--> Overview <!--[--><!--]--></a><!----></li><li><a href="/employee-onboarding.html" class="sidebar-item" aria-label="Employee onboarding"><!--[--><!--]--> Employee onboarding <!--[--><!--]--></a><!----></li><li><a href="/mfa-organization-rollout.html" class="sidebar-item" aria-label="Organization rollout"><!--[--><!--]--> Organization rollout <!--[--><!--]--></a><!----></li><li><a href="/passwordless-mfa-sso.html" class="sidebar-item" aria-label="Passwordless MFA for SSO"><!--[--><!--]--> Passwordless MFA for SSO <!--[--><!--]--></a><!----></li><li><a href="/passwordless-mfa-vpn-wifi.html" class="sidebar-item" aria-label="Passwordless MFA for VPN / Wi-Fi"><!--[--><!--]--> Passwordless MFA for VPN / Wi-Fi <!--[--><!--]--></a><!----></li><li><a href="/passwordless-mfa-desktop-windows.html" class="sidebar-item" aria-label="Passwordless MFA for Windows"><!--[--><!--]--> Passwordless MFA for Windows <!--[--><!--]--></a><!----></li><li><a href="/passwordless-mfa-vault.html" class="sidebar-item" aria-label="Passwordless MFA for vault"><!--[--><!--]--> Passwordless MFA for vault <!--[--><!--]--></a><!----></li><li><a href="/login-experience.html" class="sidebar-item" aria-label="Login experience with MFA"><!--[--><!--]--> Login experience with MFA <!--[--><!--]--></a><!----></li><li><a href="/local-biometrics.html" class="sidebar-item" aria-label="Local biometrics"><!--[--><!--]--> Local biometrics <!--[--><!--]--></a><!----></li><li><a href="/mobile-ui-overview.html" class="sidebar-item" aria-label="Mobile UI overview"><!--[--><!--]--> Mobile UI overview <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Authentication proxy <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/authproxy.html" class="sidebar-item" aria-label="Configuration"><!--[--><!--]--> Configuration <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Device recovery <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/recovery-overview.html" class="sidebar-item" aria-label="Overview"><!--[--><!--]--> Overview <!--[--><!--]--></a><!----></li><li><a href="/how-to-recover-device-user-guide.html" class="sidebar-item" aria-label="How to recover - user guide"><!--[--><!--]--> How to recover - user guide <!--[--><!--]--></a><!----></li><li><a href="/self-service-user-recovery.html" class="sidebar-item" aria-label="Self service user recovery"><!--[--><!--]--> Self service user recovery <!--[--><!--]--></a><!----></li><li><a href="/admin-controlled-user-recovery.html" class="sidebar-item" aria-label="Admin controlled user recovery"><!--[--><!--]--> Admin controlled user recovery <!--[--><!--]--></a><!----></li><li><a href="/recovery-faq.html" class="sidebar-item" aria-label="Recovery FAQ"><!--[--><!--]--> Recovery FAQ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Security <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/mobile-app-security.html" class="sidebar-item" aria-label="Overview"><!--[--><!--]--> Overview <!--[--><!--]--></a><!----></li><li><a href="/security-whitepaper.html" class="sidebar-item" aria-label="White paper"><!--[--><!--]--> White paper <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Cloud Radius <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/cloud-radius-overview.html" class="sidebar-item" aria-label="Overview"><!--[--><!--]--> Overview <!--[--><!--]--></a><!----></li><li><a href="/how-to-set-up-radius-integration.html" class="sidebar-item" aria-label="How to set up Radius integration"><!--[--><!--]--> How to set up Radius integration <!--[--><!--]--></a><!----></li><li><a href="/cloud-radius-ip-address.html" class="sidebar-item" aria-label="Cloud Radius IP address"><!--[--><!--]--> Cloud Radius IP address <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Legal <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/privacy-policy.html" class="sidebar-item" aria-label="Privacy policy"><!--[--><!--]--> Privacy policy <!--[--><!--]--></a><!----></li><li><a href="/terms-of-service.html" class="sidebar-item" aria-label="Terms of service"><!--[--><!--]--> Terms of service <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="domain-controller-configuration" tabindex="-1"><a class="header-anchor" href="#domain-controller-configuration" aria-hidden="true">#</a> Domain Controller Configuration</h1><nav class="table-of-contents"><ul><li><a aria-current="page" href="/remote-access/windows-active-domain-configuration.html#overview" class="router-link-active router-link-exact-active">Overview</a></li><li><a aria-current="page" href="/remote-access/windows-active-domain-configuration.html#prerequisites" class="router-link-active router-link-exact-active">Prerequisites</a></li><li><a aria-current="page" href="/remote-access/windows-active-domain-configuration.html#active-directory-configuration" class="router-link-active router-link-exact-active">Active Directory Configuration</a><ul><li><a aria-current="page" href="/remote-access/windows-active-domain-configuration.html#setup-active-directory" class="router-link-active router-link-exact-active">Setup Active Directory</a></li><li><a aria-current="page" href="/remote-access/windows-active-domain-configuration.html#enable-active-directory-certificate-authority" class="router-link-active router-link-exact-active">Enable Active Directory Certificate Authority</a></li><li><a aria-current="page" href="/remote-access/windows-active-domain-configuration.html#create-a-restrictive-service-account" class="router-link-active router-link-exact-active">Create a restrictive service account</a></li><li><a aria-current="page" href="/remote-access/windows-active-domain-configuration.html#do-not-allow-interactive-login-for-idemeum-service-account" class="router-link-active router-link-exact-active">Do not allow interactive login for idemeum service account</a></li><li><a aria-current="page" href="/remote-access/windows-active-domain-configuration.html#allow-connections-from-idemeum" class="router-link-active router-link-exact-active">Allow connections from idemeum</a></li><li><a aria-current="page" href="/remote-access/windows-active-domain-configuration.html#enable-smart-card-service" class="router-link-active router-link-exact-active">Enable Smart Card service</a></li><li><a aria-current="page" href="/remote-access/windows-active-domain-configuration.html#open-firewall-to-inbound-rdp-connections" class="router-link-active router-link-exact-active">Open firewall to inbound RDP connections</a></li><li><a aria-current="page" href="/remote-access/windows-active-domain-configuration.html#allow-remote-rdp-connections" class="router-link-active router-link-exact-active">Allow remote RDP connections</a></li><li><a aria-current="page" href="/remote-access/windows-active-domain-configuration.html#ensure-your-gpo-is-updated" class="router-link-active router-link-exact-active">Ensure your GPO is updated</a></li></ul></li></ul></nav><h2 id="overview" tabindex="-1"><a class="header-anchor" href="#overview" aria-hidden="true">#</a> Overview</h2><p>In order to use idemeum for passwordless access to remote desktops in your private network there are few things that need to be configured on your Domain Controller server.</p><h2 id="prerequisites" tabindex="-1"><a class="header-anchor" href="#prerequisites" aria-hidden="true">#</a> Prerequisites</h2><div class="custom-container warning"><p class="custom-container-title">Remote Desktops need to be connected to an Active Directory domain</p><ul><li>idemeum can only provide remote access to Windows desktops that are connected to an Active Directory domain. The Active Directory domain should be configured for LDAPS connections.</li><li>In order to support the LDAPS connections you need to configure the <a href="https://learn.microsoft.com/en-us/windows-server/identity/ad-cs/" target="_blank" rel="noopener noreferrer">AD CS<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. The Windows server that is running the Certificate Authority has to have Trusted Platform Module (TPM) support.</li><li>The supported Windows versions are: Windows Server 2012 R2 / Windows 10 or newer</li></ul></div><h2 id="active-directory-configuration" tabindex="-1"><a class="header-anchor" href="#active-directory-configuration" aria-hidden="true">#</a> Active Directory Configuration</h2><h3 id="setup-active-directory" tabindex="-1"><a class="header-anchor" href="#setup-active-directory" aria-hidden="true">#</a> Setup Active Directory</h3><div class="custom-container tip"><p class="custom-container-title">Do you have Active Directory configured?</p><p>If you already have an active directory setup you can skip to the next step.</p></div><p>If you are setting up a fresh Active Directory domain the on the Windows server where you want to install the Active Directory run the following Powershell script. The Windows Server has to have TPM support.</p><p>In the script below please set the <code>$domain</code> variable to your domain name.</p><div class="language-powershell ext-powershell line-numbers-mode"><pre class="language-powershell"><code><span class="token variable">$ErrorActionPreference</span> = <span class="token string">&quot;Stop&quot;</span>

<span class="token variable">$domain</span> = <span class="token string">&#39;idemeumdemo.com&#39;</span>
<span class="token variable">$netbiosDomain</span> = <span class="token punctuation">(</span><span class="token variable">$domain</span> <span class="token operator">-</span>split <span class="token string">&#39;\.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">[</span>0<span class="token punctuation">]</span><span class="token punctuation">.</span>ToUpperInvariant<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">echo</span> <span class="token string">&#39;Installing the AD services and administration tools...&#39;</span>
<span class="token function">Install-WindowsFeature</span> AD-Domain-Services<span class="token punctuation">,</span>RSAT-AD-AdminCenter<span class="token punctuation">,</span>RSAT-ADDS-Tools

<span class="token function">echo</span> <span class="token string">&#39;Installing AD DS (be patient, this may take a while to install)...&#39;</span>
<span class="token function">Import-Module</span> ADDSDeployment
<span class="token function">Install-ADDSForest</span> `
    <span class="token operator">-</span>InstallDns `
    <span class="token operator">-</span>CreateDnsDelegation:<span class="token boolean">$false</span> `
    <span class="token operator">-</span>ForestMode <span class="token string">&#39;Default&#39;</span> `
    <span class="token operator">-</span>DomainMode <span class="token string">&#39;Default&#39;</span> `
    <span class="token operator">-</span>DomainName <span class="token variable">$domain</span> `
    <span class="token operator">-</span>DomainNetbiosName <span class="token variable">$netbiosDomain</span> `
    <span class="token operator">-</span>SafeModeAdministratorPassword <span class="token punctuation">(</span><span class="token function">Read-Host</span> <span class="token string">&quot;Enter Your Password&quot;</span> <span class="token operator">-</span>AsSecureString<span class="token punctuation">)</span> `
    <span class="token operator">-</span>NoRebootOnCompletion `
    <span class="token operator">-</span>Force

<span class="token function">Restart-Computer</span> <span class="token operator">-</span>Force
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="enable-active-directory-certificate-authority" tabindex="-1"><a class="header-anchor" href="#enable-active-directory-certificate-authority" aria-hidden="true">#</a> Enable Active Directory Certificate Authority</h3><p>In order to enable the Certificate Authority you need to run the following powershell script:</p><div class="language-powershell ext-powershell line-numbers-mode"><pre class="language-powershell"><code><span class="token variable">$ErrorActionPreference</span> = <span class="token string">&quot;Stop&quot;</span>

<span class="token function">Add-WindowsFeature</span> Adcs-Cert-Authority <span class="token operator">-</span>IncludeManagementTools
<span class="token function">Install-AdcsCertificationAuthority</span> <span class="token operator">-</span>CAType EnterpriseRootCA <span class="token operator">-</span>HashAlgorithmName SHA384 <span class="token operator">-</span>Force
<span class="token function">Restart-Computer</span> <span class="token operator">-</span>Force
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="create-a-restrictive-service-account" tabindex="-1"><a class="header-anchor" href="#create-a-restrictive-service-account" aria-hidden="true">#</a> Create a restrictive service account</h3><p>Idemeum requires a service account to connect to your Active Directory domain. We recommend creating a dedicated service account with restrictive permissions for maximum security.</p><p>To create the service account, open a PowerShell prompt and copy-paste in the commands below. <strong>A password for this service account will be randomly generated, but immediately discarded. Idemeum does not need this password,</strong> as it uses x509 certificates for LDAP authentication. You can reset the password for this account should you need to perform password authentication.</p><div class="language-powershell ext-powershell line-numbers-mode"><pre class="language-powershell"><code><span class="token comment">#Creates an idemeum service account</span>
<span class="token variable">$Name</span>=<span class="token string">&quot;Idemeum Service Account&quot;</span>
<span class="token variable">$SamAccountName</span>=<span class="token string">&quot;svc-idemeum&quot;</span>

<span class="token comment"># Generate a random password that meets the &quot;Password must meet complexity requirements&quot; security policy setting.</span>
<span class="token comment"># Note: if the minimum complexity requirements have been changed from the Windows default, this part of the script may need to be modified.</span>
<span class="token function">Add-Type</span> <span class="token operator">-</span>AssemblyName <span class="token string">&#39;System.Web&#39;</span>
<span class="token keyword">do</span> <span class="token punctuation">{</span>
   <span class="token variable">$Password</span>=<span class="token namespace">[System.Web.Security.Membership]</span>::GeneratePassword<span class="token punctuation">(</span>15<span class="token punctuation">,</span>1<span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">until</span> <span class="token punctuation">(</span><span class="token variable">$Password</span> <span class="token operator">-match</span> <span class="token string">&#39;\d&#39;</span><span class="token punctuation">)</span>
<span class="token variable">$SecureStringPassword</span>=<span class="token function">ConvertTo-SecureString</span> <span class="token variable">$Password</span> <span class="token operator">-</span>AsPlainText <span class="token operator">-</span>Force

<span class="token function">New-ADUser</span> `
  <span class="token operator">-</span>Name <span class="token variable">$Name</span> `
  <span class="token operator">-</span>SamAccountName <span class="token variable">$SamAccountName</span> `
  <span class="token operator">-</span>AccountPassword <span class="token variable">$SecureStringPassword</span> `
  <span class="token operator">-</span>Enabled <span class="token boolean">$true</span>


<span class="token comment">#Now limit the service account&#39;s permission</span>
<span class="token comment"># Save your domain&#39;s distinguished name to a variable.</span>
<span class="token variable">$DomainDN</span>=$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">Get-ADDomain</span><span class="token punctuation">)</span><span class="token punctuation">.</span>DistinguishedName<span class="token punctuation">)</span>

<span class="token comment"># Create the CDP/Idemeum container.</span>
<span class="token comment"># If the command fails with &quot;New-ADObject : An attempt was made to add an object to the directory with a name that is already in use&quot;,</span>
<span class="token comment"># it means the object already exists and you can move on to the next step.</span>
<span class="token function">New-ADObject</span> <span class="token operator">-</span>Name <span class="token string">&quot;Idemeum&quot;</span> <span class="token operator">-</span><span class="token function">Type</span> <span class="token string">&quot;container&quot;</span> <span class="token operator">-</span>Path <span class="token string">&quot;CN=CDP,CN=Public Key Services,CN=Services,CN=Configuration,<span class="token variable">$DomainDN</span>&quot;</span>

<span class="token comment"># Gives Idemeum the ability to create LDAP containers in the CDP container.</span>
dsacls <span class="token string">&quot;CN=CDP,CN=Public Key Services,CN=Services,CN=Configuration,<span class="token variable">$DomainDN</span>&quot;</span> <span class="token operator">/</span>I:T <span class="token operator">/</span>G <span class="token string">&quot;<span class="token function">$<span class="token punctuation">(</span><span class="token variable">$SamAccountName</span><span class="token punctuation">)</span></span>:CC;container;&quot;</span>
<span class="token comment"># Gives Idemeum the ability to create and delete cRLDistributionPoint objects in the CDP/Idemeum container.</span>
dsacls <span class="token string">&quot;CN=Idemeum,CN=CDP,CN=Public Key Services,CN=Services,CN=Configuration,<span class="token variable">$DomainDN</span>&quot;</span> <span class="token operator">/</span>I:T <span class="token operator">/</span>G <span class="token string">&quot;<span class="token function">$<span class="token punctuation">(</span><span class="token variable">$SamAccountName</span><span class="token punctuation">)</span></span>:CCDC;cRLDistributionPoint;&quot;</span>
<span class="token comment"># Gives Idemeum the ability to write the certificateRevocationList property in the CDP/Idemeum container.</span>
dsacls <span class="token string">&quot;CN=Idemeum,CN=CDP,CN=Public Key Services,CN=Services,CN=Configuration,<span class="token variable">$DomainDN</span> &quot;</span> <span class="token operator">/</span>I:T <span class="token operator">/</span>G <span class="token string">&quot;<span class="token function">$<span class="token punctuation">(</span><span class="token variable">$SamAccountName</span><span class="token punctuation">)</span></span>:WP;certificateRevocationList;&quot;</span>
<span class="token comment"># Gives Idemeum the ability to create and delete certificationAuthority objects in the NTAuthCertificates container.</span>
dsacls <span class="token string">&quot;CN=NTAuthCertificates,CN=Public Key Services,CN=Services,CN=Configuration,<span class="token variable">$DomainDN</span>&quot;</span> <span class="token operator">/</span>I:T <span class="token operator">/</span>G <span class="token string">&quot;<span class="token function">$<span class="token punctuation">(</span><span class="token variable">$SamAccountName</span><span class="token punctuation">)</span></span>:CCDC;certificationAuthority;&quot;</span>
<span class="token comment"># Gives Idemeum the ability to write the cACertificate property in the NTAuthCertificates container.</span>
dsacls <span class="token string">&quot;CN=NTAuthCertificates,CN=Public Key Services,CN=Services,CN=Configuration,<span class="token variable">$DomainDN</span>&quot;</span> <span class="token operator">/</span>I:T <span class="token operator">/</span>G <span class="token string">&quot;<span class="token function">$<span class="token punctuation">(</span><span class="token variable">$SamAccountName</span><span class="token punctuation">)</span></span>:WP;cACertificate;&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="do-not-allow-interactive-login-for-idemeum-service-account" tabindex="-1"><a class="header-anchor" href="#do-not-allow-interactive-login-for-idemeum-service-account" aria-hidden="true">#</a> Do not allow interactive login for idemeum service account</h3><p>idemeum service account is only needed to authenticate over LDAP. We should not allow interactive login using this account, like your regular users. In order to restrict the interactive login we need to create a new Group Policy Object (GPO) linked to your entire domain, and then deny it interactive login.</p><h4 id="step-1-create-the-group-policy-object" tabindex="-1"><a class="header-anchor" href="#step-1-create-the-group-policy-object" aria-hidden="true">#</a> Step 1: Create the Group Policy object</h4><p>Open a PowerShell prompt and change the <code>$GPOName</code> .variable below to your desired GPO name, or leave the recommended name:</p><div class="language-powershell ext-powershell line-numbers-mode"><pre class="language-powershell"><code><span class="token variable">$GPOName</span>=<span class="token string">&quot;Block svc-idemeum Interactive Login&quot;</span>
<span class="token comment"># Create the new GPO and link with target domain</span>
<span class="token function">New-GPO</span> <span class="token operator">-</span>Name <span class="token variable">$GPOName</span> <span class="token punctuation">|</span> <span class="token function">New-GPLink</span> <span class="token operator">-</span>Target $<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">Get-ADDomain</span><span class="token punctuation">)</span><span class="token punctuation">.</span>DistinguishedName<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="step-2-deny-interactive-login" tabindex="-1"><a class="header-anchor" href="#step-2-deny-interactive-login" aria-hidden="true">#</a> Step 2: Deny Interactive Login</h4><ol><li>Open the program named <code>Group Policy Management</code> and find the GPO you just created (<code>$FOREST &gt; Domains &gt; $DOMAIN &gt; Group Policy Objects &gt; Block idemeum-svc Interactive Login</code>), right-click on it and select <code>Edit...</code> from the context menu.</li><li>Select: <code>Computer Configuration &gt; Policies &gt; Windows Settings &gt; Security Settings &gt; Local Policies &gt; User Rights Assignment</code></li><li>Double click <code>Deny log on locally</code> and in the popup, check <code>Define these policy settings</code>.</li><li>Then click <code>Add User or Group...</code>, <code>Browse ...</code>, enter the SAM account name of the user you created above (<code>svc-idemeum</code>) and hit <code>Check Names</code> select your Group, and then hit <code>OK</code> on all the windows.</li><li>Repeat steps 3 and 4 for <code>Deny log on through Remote Desktop Services</code> (in lieu of <code>Deny log on locally</code>).</li></ol><p><img src="/assets/idemeum-svc-deny-interactive-login.12700432.png" alt="Deny interactive login"></p><div class="custom-container warning"><p class="custom-container-title">Disable username/password Authentication</p><p>For added security, consider disabling username/password authentication completely via the GPO, requiring access via idemeum’s remote access virtual smart card.</p></div><h3 id="allow-connections-from-idemeum" tabindex="-1"><a class="header-anchor" href="#allow-connections-from-idemeum" aria-hidden="true">#</a> Allow connections from idemeum</h3><p>We need to configure Active Directory to accept and allow remote desktop connections from idemeum. This includes telling your computers to trust Idemeum CA, allowing the certificate-based smart card authentication, and ensuring RDP is enabled.</p><h4 id="step-1-export-idemeum-certificate" tabindex="-1"><a class="header-anchor" href="#step-1-export-idemeum-certificate" aria-hidden="true">#</a> Step 1: Export Idemeum certificate</h4><p>As an admin login to the Admin portal and from <code>Applications -&gt; Metadata</code> page you can download the idemeum Remote Access certificate on your Windows machine. You can click the download button and download it in der format or copy it as a pem format and use an online tool to convert it to a der format.</p><p><img src="/assets/idemeum-remote-access-cert.80a40977.png" alt="Download Idemeum Remote Access cert"></p><h4 id="step-2-create-a-new-gpo-with-idemeum-as-root-ca" tabindex="-1"><a class="header-anchor" href="#step-2-create-a-new-gpo-with-idemeum-as-root-ca" aria-hidden="true">#</a> Step 2: Create a new GPO with Idemeum as Root CA</h4><p>Open a powershell editor and run the following script:</p><div class="language-powershell ext-powershell line-numbers-mode"><pre class="language-powershell"><code><span class="token variable">$GPOName</span>=<span class="token string">&quot;Idemeum Access Policy&quot;</span>
<span class="token function">New-GPO</span> <span class="token operator">-</span>Name <span class="token variable">$GPOName</span> <span class="token punctuation">|</span> <span class="token function">New-GPLink</span> <span class="token operator">-</span>Target $<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">Get-ADDomain</span><span class="token punctuation">)</span><span class="token punctuation">.</span>DistinguishedName<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>Open the <code>Group Policy Management</code> application, and on the left pane, navigate to <code>$FOREST &gt; Domains &gt; $DOMAIN &gt; Group Policy Objects</code>.</li><li>Right click on the GPO you just made (<code>Idemeum Access Policy</code>), and select <code>Edit...</code>.</li><li>In the group policy editor, select:</li></ol><p><code>Computer Configuration &gt; Policies &gt; Windows Settings &gt; Security Settings &gt; Public Key Policies</code></p><ol><li>Right click on <code>Trusted Root Certification Authorities</code> and select <code>Import</code>.</li><li>Click through the wizard, selecting the certificate file in the der format that you downloaded from idemeum admin portal</li></ol><p><img src="/assets/import-idemeum-remote-access-cert.056af978.png" alt="Import Idemeum Remote Access cert"></p><h4 id="step-3-publish-the-idemeum-ca-to-the-active-directory-domain" tabindex="-1"><a class="header-anchor" href="#step-3-publish-the-idemeum-ca-to-the-active-directory-domain" aria-hidden="true">#</a> Step 3: Publish the Idemeum CA to the Active Directory domain</h4><p>On a machine which is joined to your domain and logged in as an account in the <code>Domain Administrators</code> group, run the two commands below at a PowerShell prompt to publish the Idemeum CA to your Active Directory domain (PathToCertFile.der is the path to where you have locally saved the Idemeum certificate):</p><div class="language-powershell ext-powershell line-numbers-mode"><pre class="language-powershell"><code>certutil –dspublish –f &lt;PathToCertFile<span class="token punctuation">.</span>der&gt; RootCA
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>This step enables the domain controllers to trust the Idemeum CA, which will allow smart card logons via Idemeum to succeed.</p><div class="custom-container warning"><p class="custom-container-title">For AWS Active directory</p><p>When using AWS Managed Active Directory, you should run the command above using an account which is part of the AWS Delegated Domain Administrators group, such as the AWS-provided admin account.</p></div><h4 id="step-4-publish-the-idemeum-ca-to-the-ntauth-store" tabindex="-1"><a class="header-anchor" href="#step-4-publish-the-idemeum-ca-to-the-ntauth-store" aria-hidden="true">#</a> Step 4: Publish the Idemeum CA to the NTAuth Store</h4><p>In order for authentication with idemeum-issued certificates to succeed, the Idemeum CA needs to be published to the enterprise NTAuth store. Idemeum will periodically publish its CA after it is able to authenticate, but this step needs to be performed manually the first time in order for Idemeum to have LDAP access.</p><p>Open powershell and run the following script.</p><div class="language-powershell ext-powershell line-numbers-mode"><pre class="language-powershell"><code>certutil –dspublish –f &lt;PathToCertFile<span class="token punctuation">.</span>der&gt; NTAuthCA
<span class="token comment">#Force the retrieval of the CA from LDAP. While this step is not required, it speeds up the process and allows you to proceed to the next steps without waiting for the certificate to propagate.</span>
certutil <span class="token operator">-</span>pulse
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="enable-smart-card-service" tabindex="-1"><a class="header-anchor" href="#enable-smart-card-service" aria-hidden="true">#</a> Enable Smart Card service</h3><p>Idemeum performs certificate based authentication by emulating a smart card.</p><ol><li>Open the Group Policy Management application and edit your <code>Idemeum Access Policy</code>.</li><li>Select <code>Computer Configuration &gt; Policies &gt; Windows Settings &gt; Security Settings &gt; System Services</code></li><li>Double click on <code>Smart Card</code>, select <code>Define this policy setting</code> and switch to <code>Automatic</code> then click <code>OK</code>.</li></ol><p><img src="/assets/enable-smart-cart-authentication.d6e837c9.png" alt="Enable Smart Card authentication"></p><h3 id="open-firewall-to-inbound-rdp-connections" tabindex="-1"><a class="header-anchor" href="#open-firewall-to-inbound-rdp-connections" aria-hidden="true">#</a> Open firewall to inbound RDP connections</h3><ol><li>Open Group Policy Management and select the <code>Idemeum Access Policy</code>.</li><li>Select <code>Computer Configuration &gt; Policies &gt; Windows Settings &gt; Security Settings &gt; Windows Firewall with Advanced Security (x2)</code></li><li>Right click on <code>Inbound Rules</code> and select <code>New Rule...</code>.</li><li>Under <code>Predefined</code> select <code>Remote Desktop</code>.</li><li>Only select the rule for <code>User Mode (TCP-in)</code>.</li><li>On the next screen, select <code>Allow the connection</code> and finish.</li></ol><p><img src="/assets/open-firewall-to-inbound-rdp-connections.6afbca72.png" alt="Open Firewall to inbound RDP connections"></p><h3 id="allow-remote-rdp-connections" tabindex="-1"><a class="header-anchor" href="#allow-remote-rdp-connections" aria-hidden="true">#</a> Allow remote RDP connections</h3><ol><li>Open Group Policy Management and select the <code>Idemeum Access Policy</code>.</li><li>Select <code>Computer Configuration &gt; Policies &gt; Administrative Templates &gt; Windows Components &gt; Remote Desktop Services &gt; Remote Desktop Session Host &gt; Connections</code></li><li>Right click on <code>Allow users to connect remotely by using Remote Desktop Services</code> and select <code>Edit</code>. Select <code>Enabled</code> and <code>OK</code>.</li><li>Select:<code>Computer Configuration &gt; Policies &gt; Administrative Templates &gt; Windows Components &gt; Remote Desktop Services &gt; Remote Desktop Session Host &gt; Security</code></li><li>Right click <code>Require user authentication for remote connections by using Network Level Authentication</code>, edit, select <strong><code>Disable</code></strong> and <code>OK</code>.</li></ol><h3 id="ensure-your-gpo-is-updated" tabindex="-1"><a class="header-anchor" href="#ensure-your-gpo-is-updated" aria-hidden="true">#</a> Ensure your GPO is updated</h3><p>Since we did modify the GPO ensure that all the changes are in effect by running the following script in powershell</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>gpupdate.exe /force
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/remote-access/remote-windows-desktop-overview.html" class="" aria-label="Overview"><!--[--><!--]--> Overview <!--[--><!--]--></a></span><span class="next"><a href="/remote-access/remote-windows-desktop.html" class="" aria-label="Windows desktops setup"><!--[--><!--]--> Windows desktops setup <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.39b42066.js" defer></script>
  </body>
</html>
